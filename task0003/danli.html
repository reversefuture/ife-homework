<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>danli</title>
</head>
<body>
	<script type="text/javascript" src="js/util.js"></script>
	<script type="text/javascript">
	window.onload=function (argument) {
		var xiaoA=(function (argument) {
	var xiaoAjia=function (message) {
		this.menling=message;
	}
	var men;
	var info={
		sendMsg:function (message) {
			if(!men){
				men=new xiaoAjia(message); //创建单例，注意new成本
			};
			return men;
		}
	};
	return info;
})();
var xiaoB={ //静态单例
	callXiaoA:function (message) {
		var _a=xiaoA.sendMsg(message);
		alert(_a.menling);
		_a=null; //清楚闭包，等待垃圾回收
	}
}
	xiaoB.callXiaoA('didi');
}
	</script>
	<script type="text/javascript">
/*		页面上有6个按钮a,b,c,d,e,f;把它们归属到2个命名空间下：
		a b c->top	d e f->banner*/
		var top={
			init:function () {
				this.render();
				this.bind();
			},
			a:4,
			render:function () {
				var me=this;
				me.btna=$('#a');
			},
			bind:function () {
				var me=this;
				me.btna.click(function () {
					me.test();
				});
			},
			test:function () {
				a=5;
			}
		}
		var banner={
			init:function () {
				this.render();
				this.bind();
			},
			a:4,
			render:function () {
				var me=this;
				me.btna=$('#a');
			},
			bind:function () {
				var me=this;
				me.btna.click(function () {
					me.test();
				});
			},
			test:function () {
				// a=6;
				top.a=6;
			}
		}
		top.init();
		banner.init();
	</script>
</body>
</html>